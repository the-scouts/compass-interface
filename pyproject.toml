# Build system requirements.
[build-system]
requires = ["setuptools>=41.0", "wheel"]  #"setuptools-scm",
build-backend = "setuptools.build_meta"

# Black configuration
[tool.black]
line-length = 132  # 120*1.1
target-version = ["py38"]  # Remember to change this if we change pins from Python 3.9!  TODO black does not yet support 3.9 (13-01-2021)

# isort configuration
[tool.isort]
line_length = 132
profile = "google"
py_version = "39"
skip_gitignore = true
known_tests = ['tests']
sections = ['FUTURE', 'STDLIB', 'THIRDPARTY', 'FIRSTPARTY', "TESTS", 'LOCALFOLDER']

# pytest configuration
[tool.pytest.ini_options]
minversion = "6.2"
norecursedirs = "tests/util"
testpaths = [
    "tests",
]

# pylint configuration
[tool.pylint."MASTER"]
persistent="n"  # pylint runs on CI, so no point saving
jobs=0  # auto-detect the number of processors to use

[tool.pylint."MESSAGES CONTROL"]
disable = [
   "fixme",
   "too-few-public-methods",
   "too-many-instance-attributes",
   "import-error",  # pylint does not (2021-03-20) support namespace packages
   "no-else-return",  # Probably bad style but this is cluttering the report
   "logging-fstring-interpolation",  # f-strings are quicker than %-formatting
   # https://docs.pylint.org/en/latest/faq.html#i-am-using-another-popular-linter-alongside-pylint-which-messages-should-i-disable-to-avoid-duplicates
   # McCabe duplication
   "too-many-branches",
   # pydocstyle duplication
   "missing-module-docstring",
   "missing-class-docstring",
   "missing-function-docstring",
   # pep8-naming duplication
   "invalid-name",
   "bad-classmethod-argument",
   "bad-mcs-classmethod-argument",
   "no-self-argument",
   # isort duplication
   "wrong-import-order",
]

[tool.pylint."DESIGN"]
max-parents=7
max-attributes=7
max-locals=15
max-returns=6
max-branches=15
max-statements=60
min-public-methods=1
max-public-methods=20
max-line-length=132

[tool.pylint."FORMAT"]
max-module-lines=1000
max-line-length=132
